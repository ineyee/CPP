## 二、封装、继承、多态

#### 1、封装

封装是指成员变量私有化，然后提供公开的setter方法和getter方法供外界访问成员变量。

```c++
#include <iostream>
using namespace std;

class Person {
    int m_age;

public:
    void setAge(int age) {
        if (age < 0) {
            m_age = 0;
        } else {
            m_age = age;
        }
    }
    
    int getAge() {
        return m_age;
    }
};

int main() {
    Person person;
    person.setAge(-10);
    cout << person.getAge() << endl; // 0
    
    return 0;
}
```

#### 2、继承

继承是指子类拥有了父类所有的成员变量、成员函数、构造函数、析构函数，用`:`来实现，注意C++里没有规定所有的类都必须继承自某个基类，只要一个类没有父类，那它就是一个基类。

```c++
#include <iostream>
using namespace std;

// 父类
class Person {
public:
    int m_age;
    
    void run() {
        cout << m_age << " " << "run()" << endl;
    }
    
    Person() {
        cout << "Person()" << endl;
        
        m_age = 0;
    }
    
    ~Person() {
        cout << "~Person()" << endl;
    }
};

// 子类
class Student : public Person {
public:
    int m_no;
    
    void study() {
        cout << m_no << " " << "study()" << endl;
    }
    
    Student() {
        cout << "Student()" << endl;
        
        m_no = 0;
    }
    
    ~Student() {
        cout << "~Student()" << endl;
    }
};

int main() {
    Person *person = new Person();
    person->m_age = 18;
    person->run();
    delete person;
    
    Student *student = new Student();
    student->m_age = 18;
    student->run();
    student->m_no = 9;
    student->study();
    delete student;
    
    return 0;
}
```

* 继承方式
  * 默认的继承方式是私有继承，只能把父类的构造函数、析构函数给继承过来
  * 只有改成public继承，才能把父类公开的成员变量、成员函数给继承过来

###### 2.1 继承方式、成员变量和成员函数的访问权限

* 继承方式一共有3种，

  继承方式

* 成员变量和成员函数的访问权限一共有3个级别，从高到低依次是：

  * public：在当前类 + 子类 + 当前类和子类以外项目里的任何地方都能访问（用struct关键字定义一个类默认）

  * protected：在当前类 + 子类里能访问

  * private：仅在当前类里能访问（用class关键字定义一个类默认）

###### 2.1 重写与super

###### 2.2 构造方法的补充

#### 3、多态

